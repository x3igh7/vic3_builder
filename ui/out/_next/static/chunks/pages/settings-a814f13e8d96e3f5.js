(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{2705:function(e,t,n){var r=n(5639).Symbol;e.exports=r},4239:function(e,t,n){var r=n(2705),o=n(9607),i=n(2333),c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":c&&c in Object(e)?o(e):i(e)}},7561:function(e,t,n){var r=n(7990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},1957:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9607:function(e,t,n){var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,c=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[a]=n:delete e[a]),o}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5639:function(e,t,n){var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},7990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},3279:function(e,t,n){var r=n(3218),o=n(7771),i=n(4841),c=Math.max,a=Math.min;e.exports=function(e,t,n){var u,l,s,f,p,d,m=0,v=!1,g=!1,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function b(t){var n=u,r=l;return u=l=void 0,m=t,f=e.apply(r,n)}function y(e){var n=e-d,r=e-m;return void 0===d||n>=t||n<0||g&&r>=s}function O(){var e,n,r,i=o();if(y(i))return j(i);p=setTimeout(O,(e=i-d,n=i-m,r=t-e,g?a(r,s-n):r))}function j(e){return(p=void 0,h&&u)?b(e):(u=l=void 0,f)}function P(){var e,n=o(),r=y(n);if(u=arguments,l=this,d=n,r){if(void 0===p)return m=e=d,p=setTimeout(O,t),v?b(e):f;if(g)return clearTimeout(p),p=setTimeout(O,t),b(d)}return void 0===p&&(p=setTimeout(O,t)),f}return t=i(t)||0,r(n)&&(v=!!n.leading,s=(g="maxWait"in n)?c(i(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),P.cancel=function(){void 0!==p&&clearTimeout(p),m=0,u=d=l=p=void 0},P.flush=function(){return void 0===p?f:j(o())},P}},3218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3448:function(e,t,n){var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7771:function(e,t,n){var r=n(5639);e.exports=function(){return r.Date.now()}},4841:function(e,t,n){var r=n(7561),o=n(3218),i=n(3448),c=0/0,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return c;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||l.test(e)?s(e.slice(2),n?2:8):a.test(e)?c:+e}},3406:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(4301)}])},8961:function(e,t,n){"use strict";var r=n(7294);t.Z=()=>{let[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[i,c]=(0,r.useState)([]);return(0,r.useEffect)(()=>{fetch("data/buildings.json").then(e=>e.json()).then(e=>t(e)),fetch("data/production_method_groups.json").then(e=>e.json()).then(e=>o(e)),fetch("data/production_methods.json").then(e=>e.json()).then(e=>c(e))},[]),{buildings:e,productionMethodGroups:n,productionMethods:i}}},4301:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(4386),o=n(7294),i=n(3308),c=n(7154),a=n(917),u=e=>{let{name:t,groupProductionMethods:n,selectedProductionMethod:i,onSelectedProductionMethodChange:u}=e,[l,s]=(0,o.useState)([]);return(0,o.useEffect)(()=>{s(n)},[]),(0,r.BX)("div",{css:(0,a.iv)({display:"flex",flexDirection:"column"}),children:[(0,r.tZ)("label",{children:t}),(0,r.tZ)(c.Q,{field:"name",value:i,suggestions:l,completeMethod:e=>{s(n.filter(t=>t.name.toLowerCase().includes(e.query.toLowerCase())))},onSelect:e=>{var r;(null===(r=e.value)||void 0===r?void 0:r.hasOwnProperty("name"))&&n.some(t=>t.name===e.value.name)&&u(t,e.value)},dropdown:!0,forceSelection:!0})]})},l=e=>{let{building:t,productionMethodGroups:n,productionMethods:o,buildingSetting:i,onSettingChange:c}=e,l=(e,t)=>{c({...i,production_method_groups:i.production_method_groups.map(n=>n.name===e?{...n,currentMethod:t}:n)})};return(0,r.BX)("div",{css:{marginBottom:"1rem"},children:[(0,r.tZ)("h3",{children:(0,r.tZ)("label",{children:null==t?void 0:t.name})}),(0,r.tZ)("div",{css:(0,a.iv)({display:"flex",flexFlow:"row wrap",alignContent:"center",gap:"1rem"}),children:n.filter(e=>t.production_method_groups.includes(e.name)).map(e=>{var t;let n=o.filter(t=>e.production_methods.includes(t.name)),c=null===(t=i.production_method_groups.find(t=>t.name===e.name))||void 0===t?void 0:t.currentMethod;return(0,r.tZ)("div",{children:(0,r.tZ)(u,{name:e.name,groupProductionMethods:n,selectedProductionMethod:c||n[0],onSelectedProductionMethodChange:l})},e.name)})})]})},s=n(8961),f=n(5600),p=n(6367),d=n(3652),m=n(3643);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=d.V.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null},css:{classes:{root:"p-input-icon"}}});function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var y=o.memo(o.forwardRef(function(e,t){var n=(0,o.useRef)(t),r=(0,i.c)(),c=(0,o.useContext)(p.Ou),a=h.getProps(e,c),u=h.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){!function(e,t,n){var r;r=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===g(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({props:a},a.__parentMetadata)),l=u.ptm,s=u.cx,f=r({className:(0,m.AK)(a.className,s("root"))},h.getOtherProps(a),l("root"));return o.createElement(o.Fragment,null,o.createElement("span",v({},f,{ref:n}),a.children))}));function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}y.displayName="InputIcon";var P=d.V.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:{root:function(e){var t=e.props;return(0,m.AK)("p-icon-field",{"p-icon-field-right":"right"===t.iconPosition,"p-icon-field-left":"left"===t.iconPosition})}}}});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){!function(e,t,n){var r;r=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===j(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=o.memo(o.forwardRef(function(e,t){var n=(0,o.useRef)(t),r=(0,i.c)(),c=(0,o.useContext)(p.Ou),a=P.getProps(e,c),u=P.setMetaData(S(S({props:a},a.__parentMetadata),{},{context:{iconPosition:a.iconPosition}})),l=u.ptm,s=u.cx,f=r({className:(0,m.AK)(a.className,s("root",{iconPosition:a.iconPosition}))},P.getOtherProps(a),l("root"));return o.createElement("div",O({},f,{ref:n}),a.children)}));w.displayName="IconField";var x=n(9403),E=n(3279),M=n.n(E),C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{leading:!1,trailing:!0},r=(0,o.useRef)();return(0,o.useEffect)(()=>{r.current=e},[e]),(0,o.useMemo)(()=>M()(()=>{var e;null===(e=r.current)||void 0===e||e.call(r)},t,n),[])},N=()=>{let{buildings:e,productionMethods:t,productionMethodGroups:n}=(0,s.Z)(),[c,u]=(0,i._)([],"settings_v3"),[p,d]=(0,o.useState)(""),[m,v]=(0,o.useState)([]),g=()=>p.length?c.filter(e=>e.name.toLowerCase().includes(p.toLowerCase())):c,h=C(()=>{v(g())}),b=()=>e.map(e=>({name:e.name,unlocking_technologies:e.unlocking_technologies||[],production_method_groups:n.filter(t=>e.production_method_groups.includes(t.name)).map(e=>{let n=t.find(t=>e.production_methods[0]===t.name);return{name:e.name,currentMethod:n}})})).sort((e,t)=>e.name.localeCompare(t.name));(0,o.useEffect)(()=>{0===c.length&&e.length&&n.length&&t.length&&u(b())},[c,e,n,t]),(0,o.useEffect)(()=>{h()},[c]),(0,o.useEffect)(()=>{h()},[p]);let O=e=>{let t=c.filter(t=>t.name!==e.name);t.push(e),u(t.sort((e,t)=>e.name.localeCompare(t.name)))};return(0,r.BX)("div",{children:[(0,r.BX)("h1",{css:(0,a.iv)({display:"flex",alignContent:"center"}),children:[(0,r.tZ)("span",{children:"Production Method Settings"}),(0,r.tZ)(x.z,{icon:"pi pi-undo",rounded:!0,text:!0,severity:"warning","aria-label":"Reset",tooltip:"Reset Settings to Default",onClick:()=>{u(b())}})]}),(0,r.BX)("div",{css:(0,a.iv)({marginBottom:"3rem",display:"flex"}),children:[(0,r.BX)(w,{iconPosition:"left",children:[(0,r.tZ)(y,{className:"pi pi-search"}),(0,r.tZ)(f.o,{value:p,placeholder:"Search Buildings",onChange:e=>{e.target.value!==p&&d(e.target.value)}})]}),(0,r.tZ)(x.z,{icon:"pi pi-times",severity:"danger","aria-label":"Cancel",disabled:!p,onClick:()=>{d("")}})]}),m.map(o=>{let i=e.find(e=>e.name===o.name);return(0,r.tZ)(l,{building:i,productionMethodGroups:n,productionMethods:t,buildingSetting:o,onSettingChange:O},o.name)})]})}}},function(e){e.O(0,[154,888,774,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);