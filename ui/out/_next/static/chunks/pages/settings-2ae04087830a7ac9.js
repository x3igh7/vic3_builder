(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{3406:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(5485)}])},8961:function(e,t,n){"use strict";var r=n(7294),o=n(3308);t.Z=()=>{let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[a,c]=(0,r.useState)([]),[l,s]=(0,o._)([],"settings");(0,r.useEffect)(()=>{fetch("data/buildings.json").then(e=>e.json()).then(e=>t(e)),fetch("data/production_method_groups.json").then(e=>e.json()).then(e=>i(e)),fetch("data/production_methods.json").then(e=>e.json()).then(e=>c(e))},[]);let u=()=>e.map(e=>({name:e.name,unlocking_technologies:e.unlocking_technologies||[],productionMethodGroups:n.filter(t=>e.production_method_groups.includes(t.name)).map(e=>{let t=a.find(t=>e.production_methods[0]===t.name);return{name:e.name,currentMethod:t}})})).sort((e,t)=>e.name.localeCompare(t.name));return(0,r.useEffect)(()=>{0===l.length&&e.length&&n.length&&a.length&&s(u())},[l,e,n,a]),{buildings:e,productionMethodGroups:n,productionMethods:a,settings:l,getDefaultSettings:u}}},5485:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var r=n(4386),o=n(7294),i=n(3308),a=n(7154),c=n(917),l=e=>{let{name:t,groupProductionMethods:n,selectedProductionMethod:i,onSelectedProductionMethodChange:l}=e,[s,u]=(0,o.useState)([]);return(0,o.useEffect)(()=>{u(n)},[]),(0,r.BX)("div",{css:(0,c.iv)({display:"flex",flexDirection:"column"}),children:[(0,r.tZ)("label",{children:t}),(0,r.tZ)(a.Q,{field:"name",value:i,suggestions:s,completeMethod:e=>{u(n.filter(t=>t.name.toLowerCase().includes(e.query.toLowerCase())))},onSelect:e=>{var r;(null===(r=e.value)||void 0===r?void 0:r.hasOwnProperty("name"))&&n.some(t=>t.name===e.value.name)&&l(t,e.value)},dropdown:!0,forceSelection:!0})]})},s=e=>{let{building:t,productionMethodGroups:n,productionMethods:o,buildingSetting:i,onSettingChange:a}=e,s=(e,t)=>{a({...i,productionMethodGroups:i.productionMethodGroups.map(n=>n.name===e?{...n,currentMethod:t}:n)})};return(0,r.BX)("div",{css:{marginBottom:"1rem"},children:[(0,r.tZ)("h3",{children:(0,r.tZ)("label",{children:null==t?void 0:t.name})}),(0,r.tZ)("div",{css:(0,c.iv)({display:"flex",flexFlow:"row wrap",alignContent:"center",gap:"1rem"}),children:n.filter(e=>t.production_method_groups.includes(e.name)).map(e=>{var t;let n=o.filter(t=>e.production_methods.includes(t.name)),a=null===(t=i.productionMethodGroups.find(t=>t.name===e.name))||void 0===t?void 0:t.currentMethod;return(0,r.tZ)("div",{children:(0,r.tZ)(l,{name:e.name,groupProductionMethods:n,selectedProductionMethod:a||n[0],onSelectedProductionMethodChange:s})},e.name)})})]})},u=n(8961),p=n(5600),d=n(6367),f=n(3652),m=n(3643);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=f.V.extend({defaultProps:{__TYPE:"InputIcon",__parentMetadata:null,className:null},css:{classes:{root:"p-input-icon"}}});function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=o.memo(o.forwardRef(function(e,t){var n=(0,o.useRef)(t),r=(0,i.c)(),a=(0,o.useContext)(d.Ou),c=g.getProps(e,a),l=g.setMetaData(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){!function(e,t,n){var r;r=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===b(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({props:c},c.__parentMetadata)),s=l.ptm,u=l.cx,p=r({className:(0,m.AK)(c.className,u("root"))},g.getOtherProps(c),s("root"));return o.createElement(o.Fragment,null,o.createElement("span",h({},p,{ref:n}),c.children))}));function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}v.displayName="InputIcon";var j=f.V.extend({defaultProps:{__TYPE:"IconField",__parentMetadata:null,children:void 0,className:null,iconPosition:"right"},css:{classes:{root:function(e){var t=e.props;return(0,m.AK)("p-icon-field",{"p-icon-field-right":"right"===t.iconPosition,"p-icon-field-left":"left"===t.iconPosition})}}}});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){!function(e,t,n){var r;r=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===P(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=o.memo(o.forwardRef(function(e,t){var n=(0,o.useRef)(t),r=(0,i.c)(),a=(0,o.useContext)(d.Ou),c=j.getProps(e,a),l=j.setMetaData(w(w({props:c},c.__parentMetadata),{},{context:{iconPosition:c.iconPosition}})),s=l.ptm,u=l.cx,p=r({className:(0,m.AK)(c.className,u("root",{iconPosition:c.iconPosition}))},j.getOtherProps(c),s("root"));return o.createElement("div",O({},p,{ref:n}),c.children)}));S.displayName="IconField";var E=n(9403),M=()=>{let{buildings:e,productionMethods:t,productionMethodGroups:n,getDefaultSettings:a}=(0,u.Z)(),[l,d]=(0,i._)([],"settings"),[f,m]=(0,o.useState)(""),[h,b]=(0,o.useState)([]),g=()=>l.filter(e=>e.name.toLowerCase().includes(f.toLowerCase()));(0,o.useEffect)(()=>{b(g())},[l]),(0,o.useEffect)(()=>{b(g())},[f]);let y=e=>{let t=l.filter(t=>t.name!==e.name);t.push(e),d(t.sort((e,t)=>e.name.localeCompare(t.name)))};return(0,r.BX)("div",{children:[(0,r.BX)("h1",{css:(0,c.iv)({display:"flex",alignContent:"center"}),children:[(0,r.tZ)("span",{children:"Production Method Settings"}),(0,r.tZ)(E.z,{icon:"pi pi-undo",rounded:!0,text:!0,severity:"warning","aria-label":"Reset",tooltip:"Reset Settings to Default",onClick:()=>{d(a())}})]}),(0,r.BX)("div",{css:(0,c.iv)({marginBottom:"3rem",display:"flex"}),children:[(0,r.BX)(S,{iconPosition:"left",children:[(0,r.tZ)(v,{className:"pi pi-search"}),(0,r.tZ)(p.o,{value:f,placeholder:"Search Buildings",onChange:e=>{e.target.value!==f&&m(e.target.value)}})]}),(0,r.tZ)(E.z,{icon:"pi pi-times",severity:"danger","aria-label":"Cancel",disabled:!f,onClick:()=>{m("")}})]}),h.map(o=>{let i=e.find(e=>e.name===o.name);return(0,r.tZ)(s,{building:i,productionMethodGroups:n,productionMethods:t,buildingSetting:o,onSettingChange:y},o.name)})]})}}},function(e){e.O(0,[154,888,774,179],function(){return e(e.s=3406)}),_N_E=e.O()}]);